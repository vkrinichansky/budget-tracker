<app-base-modal [titleTranslationKey]="'account.moneyMovementBetweenAccountsModal.title'">
  <ng-template #contentTemplate>
    <form class="flex flex-col gap-y-2" [formGroup]="form">
      <custom-select
        [id]="formFieldsEnum.FROM_ACCOUNT"
        [label]="'account.moneyMovementBetweenAccountsModal.fromAccountTitle' | translate"
        [formControlName]="formFieldsEnum.FROM_ACCOUNT"
        [options]="accounts$ | async"
        [idSelector]="idSelector"
        [displayValueSelector]="displayValueSelector"
        [iconSelector]="iconSelector"
        [isRequired]="true"
      ></custom-select>

      <custom-select
        [class.hidden]="!form?.controls?.[formFieldsEnum.FROM_ACCOUNT]?.value"
        [id]="formFieldsEnum.TO_ACCOUNT"
        [label]="'account.moneyMovementBetweenAccountsModal.toAccountTitle' | translate"
        [formControlName]="formFieldsEnum.TO_ACCOUNT"
        [options]="filteredAccounts$ | async"
        [idSelector]="idSelector"
        [displayValueSelector]="displayValueSelector"
        [iconSelector]="iconSelector"
        [isRequired]="true"
      ></custom-select>

      <custom-input
        [class.hidden]="isAnyAccountFieldEmpty"
        [id]="formFieldsEnum.VALUE_TO_MOVE"
        [label]="'account.moneyMovementBetweenAccountsModal.valueToMoveTitle' | translate"
        [isRequired]="true"
        [minValue]="1"
        [maxValue]="maxValue"
        [type]="'number'"
        [formControlName]="formFieldsEnum.VALUE_TO_MOVE"
        [prefix]="currencySymbolForValueField"
      ></custom-input>

      <custom-input
        [class.hidden]="isAnyAccountFieldEmpty || !accountsHaveDifferentCurrencies"
        [id]="formFieldsEnum.CONVERTED_VALUE_TO_MOVE"
        [label]="'account.moneyMovementBetweenAccountsModal.convertedValueToMoveTitle' | translate"
        [isRequired]="true"
        [minValue]="1"
        [type]="'number'"
        [formControlName]="formFieldsEnum.CONVERTED_VALUE_TO_MOVE"
        [prefix]="currencySymbolForConvertedValueField"
      ></custom-input>
    </form>
  </ng-template>

  <ng-template #footerTemplate>
    <app-button
      [type]="'primary'"
      [text]="'account.moneyMovementBetweenAccountsModal.moveButton' | translate"
      [buttonSizeX]="'px160'"
      [disabled]="form?.invalid"
      [loading]="loading$ | async"
      (click)="submitAction()"
    ></app-button>
  </ng-template>
</app-base-modal>
