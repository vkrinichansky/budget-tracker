<app-base-modal [titleTranslationKey]="title" [footerTemplate]="footer">
  <form class="flex flex-col gap-y-2" [formGroup]="form">
    <custom-input
      [id]="formFields.CategoryName"
      [label]="'dashboard.addCategoryModal.categoryNameTitle' | translate"
      [formControlName]="formFields.CategoryName"
      [isRequired]="true"
      [maxLength]="25"
      [entityExistsValidator]="categoryExistsValidator"
      [displayCharCounter]="true"
    ></custom-input>

    <custom-select
      [id]="formFields.CategoryIcon"
      [label]="'dashboard.addCategoryModal.categoryIconTitle' | translate"
      [formControlName]="formFields.CategoryIcon"
      [isRequired]="true"
      [iconPickerMode]="true"
    ></custom-select>

    <color-picker
      [id]="formFields.CategoryColorPicker"
      [label]="'dashboard.addCategoryModal.categoryColorTitle' | translate"
      [formControlName]="formFields.CategoryColorPicker"
      [isRequired]="true"
    ></color-picker>
  </form>
</app-base-modal>

<ng-template #footer>
  <app-button
    [colorScheme]="'charcoal'"
    [text]="'dashboard.addCategoryModal.addCategory' | translate"
    [buttonSizeX]="'big'"
    [disabled]="!isFormValid"
    [loading]="loading$ | async"
    (click)="submitClick()"
  ></app-button>
</ng-template>
